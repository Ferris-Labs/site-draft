---
title: "Event Manipulation Strategies"
linkTitle: "Leveraging Event Manipulation"
tags: [quickstart, connect, register] 
categories: ["Knowledge Base"]
description: >-
     Leveraging Event Manipulation.
---



Events are the powerful concept at the center of the DX Platform. There are a number of strategies for using event structures. The following are a few important related topics.

* Correlation IDs
* Event Mappings



## Understand the Structure

The Ferris DX events are based on CloudEvents ... 



## Understanding Correlation IDs

Correlation IDs are a time tested approach within the Enterprise Software Landscape. A correlation ID allows one to correlate 2 steps in a flow with eachother and identify their location in the flow sequence. 

When a package receives and event the platform also passes a CorrelationID. The correlation ID is usually generated by the platform at the start of the event or assigned by the event originator. If a correlation ID does not exist then a package may create a correlation id using the library provided. The correlation id consists of 2 parts

```python
FLOWID_SEQUENCEID
```



The first part is the identifier of the unique originator id. The second part is a sequence ID which is incrementally assigned by subsequent processors. This allows the processor to indicate which the next stage of the processing is. It is left to packages to determine whether they wish to pass through the correlation ID or not. Usually it is preferable to apss the correlation ID with any event that is generated from within a package. 



The following is a sample output

ABCDEF1234_01 -> ABCDEF1234_02 -> ABCDEF1234_03

Searching for a correlation ID will result in a time sorted list of runs which were triggered. By steppoing through the rsults of each stage you can easily identify the outgoing events and the results at each stage.



## Leverage Event Mapping

Event mapping is the mechanism of converting from one event type to the other. 

This is useful for converting from one type of even to another to trigger crossflows without altering the code of the target service. 

Event mapping is done within the platform by using a configuration of event maps. Event maps describe the mapping of the attributes between the source and the target event. The also must chose between 1 of 2 strategies

* Map ONLY Mapped Fields
* Map ALL Fieds



### Strategy Map only Mapped Fields

When this strategy is applied only the attributes present in the mapping file will be available in the output event. 

**Please note that you cannot map events to the same event type to avoid loopbacks.**

**Map**

```json
{
  "ferris.sample.event_a": "ferris.sample.event_b",
  "name":"first_name",
  "role": "designation"
}
```

**Source Event**

```json
{
  "type": "ferris.sample.event_a",
  "name":"Bal",
  "role": "developer"
  "mobile": "1234567"
}
```

**Output Event**

When the above map is combined with the event it will result in the name and role attributes being available as first_name and designation in the output event. But the mobile number will be stripped.

```json
{
  "type": "ferris.sample.event_b",
  "first_name":"Bal",
  "designation": "developer"
}
```

### Strategy Map All Fields



When this strategy is applied only the attributes present in the mapping file will be available in the output event. 

**Please note that you cannot map events to the same event type to avoid loopbacks.**

**Map**

```json
{
  "ferris.sample.event_a": "ferris.sample.event_b",
  "name":"first_name",
  "role": "designation"
}
```

**Source Event**

```json
{
  "type": "ferris.sample.event_a",
  "name":"Bal",
  "role": "developer"
  "mobile": "1234567"
}
```

**Output Event**

When the above map is combined with the event it will result in the name and role attributes being available as first_name and designation in the output event. But the mobile number will be stripped.

```json
{
  "type": "ferris.sample.event_b",
  "first_name":"Bal",
  "designation": "developer",
  "mobile": "1234567"
}
```



