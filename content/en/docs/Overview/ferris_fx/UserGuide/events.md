---
title: "Events"
linkTitle: "Events"
weight: -10
description: >-
    How to configure a service to be triggered by the FX Router when a specific type of event is observed on the platform.
---

FX is an event driven platform wich means that each action generating an event can be reused for further triggering of
executions. Also within an executing script, an event can be generated and sent as a message. Each event is defined at
least by itâ€™s source, type and payload (data). Event message format is following the cloudevents standard. A list of all
event types is maintained so the user can bound service execution to certain event type, which means that each time such
an event is received, the service execution will be triggered.

Events are messages passed through the platform which are generated by Services.

Events are in the form of JSON formatted messages which adhere to the CloudEvents format. They carry a Header which
indicates the event type and a Payload (or Data section) which contain information about the event.

To have a better detailed understanding of how Events are generated, please refer to
the [Architecture](/docs/overview/architecture-overview/ "Architecture Overview") subcategory in the *Overview*
category.

## Manivation: Events

This use case defines how to configure a service to be triggered by the FX Router when a specific type of event is
observed on the platform.

1. Click on *Events* on the left side of the dashboard menu to open drop-down
2. Click on *Event Types*
3. Check the predefined *Event Types*
    - ferris.apps.modules.approvals.step_approval_completed
    - ferris.apps.modules.minio.file_uploaded

Events can be created within scripts during service execution by sending a message to the **Kafka Topic** using
the `ferris_cli` python service. For example, a service can be bound to a file_upload event that is triggered every time
a file gets uploaded to **MinIO** using FX file storage module. New event types will be registered as they are sent to
the **Kafka Topic** using the `ferris_cli` python service.

Further details regarding `ferris_cli` can be found in the
subcategory [Development Lifecycle](/docs/developerguide/development-lifecycle/ "development-lifecycle") in the
*Developer Guide*.

{{< blocks/screenshot color="white" image="/images/events_event_types.png">}}

## Executions - services -> file upload trigger event

In this use case an existing service will be edited to define the file upload event type.

1. Click on *Executions* on the left side of the dashboard menu to open drop-down
2. Click on *services*
3. Click on the edit record button to edit the existing service *Test service with Scripts*

{{< blocks/screenshot color="white" image="/images/edit_service_event.png">}}

1. Delete the *CronJob Schedule* to allow a *Trigger Event Type*
2. Select the *Value* of the event type (ferris.apps.modules.minio.file_uploaded)
3. Select *Entrypoint* -> select script in dropdown menu
4. Save the edited service.

{{< blocks/screenshot color="white" image="/images/save_edited_service_event.png">}}

## File Storage

To finalize the process, a file needs to be uploaded to a MinIO bucket (file storage).

1. Click on *File Storage* on the left side of the dashboard menu to open drop-down
2. Click on *List Files*
3. Click on *+Add* to upload a file to the bucket

{{< blocks/screenshot color="white" image="/images/list_files_event.png">}}

1. Choose file to upload
2. Choose *File Type*  (CSV Table; Plain Text; JSON)
3. Select the *Bucket Name*
4. Click on *Save* to save the file

{{< blocks/screenshot color="white" image="/images/upload_file_event.png">}}

To verify if the service execution has been triggered, go back to the initial, edited service.

1. Click on *Executions* on the left side of the dashboard menu to open drop-down
2. Click on *Services*
3. Click on the magnifying glass to open the details page of the service *Test service with Scripts*

{{< blocks/screenshot color="white" image="/images/service_details_event.png">}}

It will automatically open the *List service Executions* tab.

1. Check the last Event, date and time to verify it corresponds to the time the file was uploaded
2. Click on the magnifying glass to open the details page of the triggered execution

{{< blocks/screenshot color="white" image="/images/list_triggered_event.png">}}

- Check the details page of the event triggered run

{{< blocks/screenshot color="white" image="/images/details_page_event.png">}}

